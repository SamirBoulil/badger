<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{% block title %}Badger{% endblock %}</title>
    <link rel="stylesheet" href="{{ asset('vendor/semantic-ui-css/semantic.min.css') }}">
    <link rel="stylesheet" href="{{ asset('vendor/dist/font-awesome.min.css') }}">
    <link rel="stylesheet" href="{{ asset('css/all.css') }}">
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    {% block stylesheets %}{% endblock %}
    <link rel="icon" href="{{ asset('favicon.ico') }}" sizes="16x16 32x32 48x48 64x64" type="image/vnd.microsoft.icon">
</head>
<body class="{% block bodyclass %}{% endblock %} pushable">

{% if app.user %}
<div class="ui left demo vertical sidebar labeled icon menu">
    <a class="item {{ app.request.attributes.get('_route') == 'homepage' ? 'active' : '' }}" href="{{ url('homepage') }}"><i class="feed icon"></i> Feed</a>
    <a class="item {{ app.request.attributes.get('_route') == 'badges' ? 'active' : '' }}" href="{{ url('badges') }}"><i class="trophy icon"></i> Badges</a>
    <a class="item {{ app.request.attributes.get('_route') == 'quests' ? 'active' : '' }}" href="{{ url('quests') }}"><i class="calendar icon"></i> Quests</a>
    <a class="item {{ app.request.attributes.get('_route') == 'users' ? 'active' : '' }}" href="{{ url('users') }}"><i class="users icon"></i> People</a>
    <a class="item {{ app.request.attributes.get('_route') == 'leaderboard' ? 'active' : '' }}" href="{{ url('leaderboard') }}"><i class="line chart icon"></i> Leaderboard</a>
</div>

<div class="ui fixed menu">
    <div class="ui container">
        <a class="item" id="hamburger">
            <i class="sidebar icon"></i>
        </a>
        <a href="{{ url('homepage') }}" class="header item logo navbar-logo">
            <img style="width: 100px;" src="{{ asset('bundles/gate/images/badger-150.png') }}" alt="">
        </a>
        <a class="item menu-element {{ app.request.attributes.get('_route')  == 'homepage' ? 'active' : '' }}" href="{{ url('homepage') }}">
            <i class="feed icon"></i> Feed
        </a>
        <a class="item menu-element {{ app.request.attributes.get('_route')  == 'badges' ? 'active' : '' }}" href="{{ url('badges') }}">
            <i class="trophy icon"></i> Badges
        </a>
        <a class="item menu-element {{ app.request.attributes.get('_route')  == 'quests' ? 'active' : '' }}" href="{{ url('quests') }}">
            <i class="calendar icon"></i> Quests
        </a>
        <a class="item menu-element {{ app.request.attributes.get('_route')  == 'users' ? 'active' : '' }}" href="{{ url('users') }}">
            <i class="users icon"></i> People
        </a>
        <a class="item menu-element {{ app.request.attributes.get('_route')  == 'leaderboard' ? 'active' : '' }}" href="{{ url('leaderboard') }}">
            <i class="line chart icon"></i> Leaderboard
        </a>
        <div class="right menu">
            <div class="item nuts" data-content="You have {{ app.user.nuts }} nuts" data-variation="tiny inverted">
                <i class="cubes icon"></i> {{ app.user.nuts }}
            </div>
            <div class="ui dropdown item">
                <img class="ui avatar image" src="{{ app.user.profilePicture }}" alt=""/>
                <div class="username">&nbsp; {{ app.user.username }}</div> <i class="dropdown icon"></i>
                <div class="menu">
                    <a href="{{ url('userprofile', {'username': app.user.username}) }}" class="item">My Profile</a>
                    <a href="{{ url('fos_user_security_logout') }}" class="item">Logout</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

{% block body %}
{% endblock %}

<script src="{{ asset('vendor/dist/jquery.js') }}"></script>
<script src="{{ asset('vendor/semantic-ui-css/semantic.min.js') }}"></script>
<script src="{{ asset('vendor/dist/Autolinker.min.js') }}"></script>
<script>
    $('.ui.dropdown').dropdown();

    $('#hamburger').click(function() {
        $('.ui.sidebar').sidebar('toggle');
    });

    $('.menu .nuts').popup();
</script>

{% block javascripts %}
{% endblock %}
</body>
</html>
